<MainScreen>:
  canvas.before:
    Color:
      rgba: 0, 0, 0, 0
    Rectangle:
      pos: self.pos
      size: self.size
  BoxLayout:
    orientation: 'vertical'
    size_hint: 0.85,0.85
    pos_hint: { 'center_x': .5, 'center_y': .5 }
    MDToolbar:
      title: 'Mark 2 Market'
      right_action_items: [ [ 'close', lambda x: app.exit() ] ]
      md_bg_color: 0, 0, 0, 1
    #    MDSpinner:
    #      id: spinner
    #      size_hint: None, None
    #      size: dp(46), dp(46)
    #      pos_hint: { 'center_x': .5, 'center_y': .5 }
    #      active: True if app.processing else False
    #FloatLayout:
    #      MDTextField:
    #        id: input
    #        hint_text: 'Document Password'
    #        helper_text_mode: "on_error"
    #        max_text_length: 10
    #        min_text_length: 10
    #        size_hint: None,None
    #        size: 300,50
    #        pos: 200,400
    #        on_text: app.on_text()
    #      MDRectangleFlatIconButton:
    #        id: file_chooser
    #        text: "Chose Transaction File"
    #        icon: "folder"
    #        size_hint: None,None
    #        size_hint: 0.8, 0.1
    #        pos_hint: {'center_x': 0.5,'center_y':0.8}
    #        on_release: app.file_manager_open()

    #      MDFillRoundFlatButton:
    #        text: 'Calculate NAV'
    #        size_hint: None,None
    #        size_hint: 0.5,0.1
    #        md_bg_color: 0, 0, 0, 1
    #        pos_hint: {'center_x': 0.5,'center_y':0.4}
    #        elevation: 10
    #        on_release: app.process_file()
    FloatLayout:
      canvas.before:
        Color:
          rgba: .9, .9, .9, 1
        Rectangle:
          pos: self.pos
          size: self.size

      MDTextButton:
        text: 'Transaction file upload'
        pos_hint: { 'center_x': 0.5,'center_y': 0.8 }
        on_release: app.upload_screen()
      MDTextButton:
        text: 'Transaction entry'
        pos_hint: { 'center_x': 0.5,'center_y': 0.7 }
        on_release: app.entry_screen()
      MDTextButton:
        text: 'Trade in markets'
        pos_hint: { 'center_x': 0.5,'center_y': 0.6 }
        on_release: app.trading_screen()
      MDTextButton:
        text: 'View Net Asset Value'
        pos_hint: { 'center_x': 0.5,'center_y': 0.5 }
        on_release: app.go_nav()
      MDTextButton:
        text: 'View  Gain Loss'
        pos_hint: { 'center_x': 0.5,'center_y': 0.4 }
        on_release: app.gain_loss()
      MDTextButton:
        text: 'View Performance  charts'
        pos_hint: { 'center_x': 0.5,'center_y': 0.3 }
        on_release: app.charts()

<TransactionUploadScreen>:
  Button:
    text: "Mark 2 Market - Transaction Upload."
    size_hint: 1,.1
    background_color: (.2,.2,.2,1)
    pos_hint: { 'center_x': 0.5,'center_y': .9 }

  MDRectangleFlatIconButton:
    id: file_chooser
    text: "Chose Transaction File"
    icon: "folder"
    size_hint: 0.8,0.1
    pos_hint: { 'center_x': 0.5,'center_y': 0.5 }
    on_release: app.file_manager_open()

  MDRectangleFlatButton:
    text: 'Process'
    pos_hint: { 'center_x': 0.5,'center_y': 0.4 }
    on_release: app.process_file()


  MDIconButton:
    icon: 'home'
    pos_hint: { 'center_x': 0.5,'center_y': .1 }
    on_release: app.home()

<SpinnerScreen>:
  MDSpinner:
    size_hint: None, None
    size: dp(46), dp(46)
    pos_hint: { 'center_x': .5, 'center_y': .5 }
    active: True


<TransactionEntryScreen>:
  Button:
    text: "Mark 2 Market - Transaction Entry"
    size_hint: 1,.1
    background_color: (.2,.2,.2,1)
    pos_hint: { 'center_x': 0.5,'center_y': .9 }

  MDTextField:
    id: symbol
    hint_text: 'Symbol'
    helper_text_mode: "on_error"
    max_text_length: 10
    size_hint: 0.5,0.1
    pos_hint: { 'center_x': 0.5,'center_y': .7 }
    on_text: app.on_text()
  MDTextField:
    id: quantity
    hint_text: 'Quantity'
    helper_text_mode: "on_error"
    max_text_length: 10
    size_hint: 0.5,0.1
    pos_hint: { 'center_x': 0.5,'center_y': .6 }
    on_text: app.on_text()
  MDTextField:
    id: cost
    hint_text: 'Cost'
    helper_text_mode: "on_error"
    max_text_length: 10
    size_hint: 0.5,0.1
    pos_hint: { 'center_x': 0.5,'center_y': .5 }
    on_text: app.on_text()
  MDTextField:
    id: side
    hint_text: 'Side'
    helper_text_mode: "on_error"
    max_text_length: 10
    size_hint: 0.5,0.1
    pos_hint: { 'center_x': 0.5,'center_y': .4 }
    on_text: app.on_text()
  MDRectangleFlatButton:
    text: 'Submit'
    on_release: app.on_submit()
    pos_hint: { 'center_x': 0.5,'center_y': .3 }

  MDIconButton:
    icon: 'home'
    pos_hint: { 'center_x': 0.5,'center_y': .1 }
    on_release: app.home()


<TradingScreen>:
  Button:
    text: "Mark 2 Market - Trade"
    size_hint: 1,.1
    background_color: (.2,.2,.2,1)
    pos_hint: { 'center_x': 0.5,'center_y': .9 }

  MDTextButton:
    id: hdfc
    text: 'HDFC Securities'
    pos_hint: { 'center_x': 0.5,'center_y': .7 }
    on_release: app.open_url(self)

  MDTextButton:
    id: icici
    text: 'ICICI Direct'
    pos_hint: { 'center_x': 0.5,'center_y': .6 }
    on_release: app.open_url(self)

  MDRectangleFlatButton:
    text: 'Home'
    pos_hint: { 'center_x': 0.5,'center_y': .5 }
    on_release: app.home()






<PnLScreen>:
  canvas.before:
    Color:
      rgba: .2, .2, .2, 1
    Rectangle:
      pos: self.pos
      size: self.size

<GainLossScreen>:
  canvas.before:
    Color:
      rgba: .2, .2, .2, 1
    Rectangle:
      pos: self.pos
      size: self.size

<Analysis>:
  canvas.before:
    Color:
      rgba: .2, .2, .2, 1
    Rectangle:
      pos: self.pos
      size: self.size







